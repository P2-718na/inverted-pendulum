\section{Introduzione}\label{sec:introduzione}
\subsection{Pendolo invertito}\label{subsec:intro-pendolo}
Il pendolo invertito su rotaia è un sistema che si presta molto bene ad essere trattato nell'ambito della Teoria del
Controllo.
Il problema che ci poniamo è il seguente:
\begin{framed}
\emph{
    Un pendolo è posto su un carrello libero di muoversi orizzontalmente su una rotaia.
    Il carrello è dotato di un motore che gli permette di accelerare. Conoscendo lo stato del sistema
    $\mathbf x$, trovare un espressione per la forzante esercitata dal motore $\mathbf u = \mathbf u(\mathbf x)$ che faccia sì
    che il pendolo rimanga orientato verso l'alto.
  }
\end{framed}

Una descrizione formale del sistema è data dal diagramma in fig. %todo add ref
% todo add figure
dove $\mathbf y$ è l'output del sistema, $\mathbf x$ e $\mathbf f$ sono rispettivamente
lo \emph{stato interno} e la \emph{legge di evoluzione} del sistema. $\mathbf y$, $\mathbf x$ e $\mathbf f$ sono
\emph{vettori colonna}.

Sebbene sia possibile risolvere questo problema per qualsiasi condizione iniziale del sistema, io tratterò solo il
caso in cui il pendolo parte già in prossimità della posizione verticale. Strategie di \emph{swing-up} e
\emph{swing-down} non saranno oggetto del mio studio.


\subsection{Controller \textsc{LQR}}\label{subsec:intro-lqr}
In generale, nello studio del controllo di un sistema, dobbiamo tenere in considerazione del fatto che la forzante
$\mathbf u$ ha un certo costo associato.
Questo è da intendersi sia come costo \emph{materiale} (i.e. il costo della corrente per mettere in moto
un motore) ma, soprattutto, anche come costo \emph{fisico} (i.e. non si può realizzare un motore che ha potenza
infinita).

Un controller \textsc{lqr}, permette di risolvere questi vincoli in modo \emph{ottimale}. %todo ref
Per spiegare cosa si intende con \emph{ottimale}, conviene citare direttamente la definizione di \textsc{lqr}, seguita
da un teorema:
% also todo, magari cita il libro di Brunton

\begin{framed}
  \textbf{DEF}
  Un controller \textsc{lqr} è un sistema dinamico con input $\mathbf y$, output $\mathbf u$ e stato interno
  $\hat{\mathbf x}$: %fixme questa è la def di lqg
  \begin{equation}
    \begin{aligned}[c]
      \frac d {dt} \hat {\mathbf x} &= (A-K_f C - B K_r) \hat{\mathbf x} + K_f \mathbf y \\ %fixme matrices need to be not itlaics
      \mathbf u               &= -K_r \hat{\mathbf x}
    \end{aligned}
    \label{eq:lqr}
  \end{equation}
\end{framed}
\begin{framed}
  \textbf{THM}
  Il controller descritto in \eqref{eq:lqr} minimizza la funzione costo definita come:
  \begin{equation}
    J(t) \doteq
      \int_0^{+\infty} \left[ \mathbf{x} (s)^* Q \mathbf {x} (s) + \mathbf {u} (s)^* R \mathbf {u} (s) \right] ds
    \label{eq:lqr-costo}
  \end{equation}
\end{framed}

Non entrerò nel dettaglio riguardo a quali sono le condizioni per cui si può realizzare un controller di questo tipo.
Inoltre, ci tengo a precisare che sebbene le equazioni sopra %todo add ref)
valgano per sistemi dinamici a \emph{tempo continuo}, si possono generalizzare tranquillamente a sistemi
a \emph{tempo discreto}.
Rimando a Brunton%todo cite
per approfondimenti.

\subsection{Controller \textsc{PID}}\label{subsec:intro-pid}
%todo da fare
